


/* ov772x Camera
 *
 * Copyright (C) 2008 Renesas Solutions Corp.
 * Kuninori Morimoto <morimoto.kuninori@renesas.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */

#ifndef __OV772X_H__
#define __OV772X_H__

#include <media/soc_camera.h>

/* for flags */
#define OV772X_FLAG_VFLIP     0x00000001 /* Vertical flip image */
#define OV772X_FLAG_HFLIP     0x00000002 /* Horizontal flip image */

/*
 * for Edge ctrl
 *
 * strength also control Auto or Manual Edge Control Mode
 * see also OV772X_MANUAL_EDGE_CTRL
 */
struct ov772x_edge_ctrl {
	unsigned char strength;
	unsigned char threshold;
	unsigned char upper;
	unsigned char lower;
};

#define OV772X_MANUAL_EDGE_CTRL	0x80 /* un-used bit of strength */
#define EDGE_STRENGTH_MASK	0x1F
#define EDGE_THRESHOLD_MASK	0x0F
#define EDGE_UPPER_MASK		0xFF
#define EDGE_LOWER_MASK		0xFF

#define OV772X_AUTO_EDGECTRL(u, l)	\
{					\
	.upper = (u & EDGE_UPPER_MASK),	\
	.lower = (l & EDGE_LOWER_MASK),	\
}

#define OV772X_MANUAL_EDGECTRL(s, t)					\
{									\
	.strength  = (s & EDGE_STRENGTH_MASK) | OV772X_MANUAL_EDGE_CTRL,\
	.threshold = (t & EDGE_THRESHOLD_MASK),				\
}

/*
 * ov772x camera info
 */
struct ov772x_camera_info {
	unsigned long          buswidth;
	unsigned long          flags;
	struct soc_camera_link link;
	struct ov772x_edge_ctrl edgectrl;
};


#define DELAY_FLAG        0xFE   // first parameter is 0xfe, then 2nd parameter is delay time count
#define END_FLAG          0xFF   // first parameter is 0xff, then parameter table is over 
/*
 * struct
 */



static const unsigned char INIT_TAB[] = 
{
0x12, 0x80,
0x3d, 0x03,

0x17, 0x22,
0x18, 0xa4, 
0x32, 0x00,
0x19, 0x07,
0x1a, 0xf0,
0x03, 0x00,

0x29, 0xa0,
0x2c, 0xf0,
0x2a, 0x00,
0x11, 0x01,//0x01,//0x01,//==0x03,frame
0x33, 0x66,//==frame
0x42, 0x7f,
0x4d, 0x09,
0x63, 0xe0,
0x64, 0xff,
0x65, 0x20,
0x66, 0x00,
0x67, 0x48,
0x13, 0xff,//
0x0d, 0x41,
0x0f, 0xc5,
0x14, 0x31,

0x22, 0x3f,
0x23, 0x07,
0x24, 0x40,
0x25, 0x30,
0x26, 0xa1,


0x2b, 0x00,
0x6b, 0xaa,
0x90, 0x05,
0x91, 0x01,
0x92, 0x03,
0x93, 0x00,
0x94, 0xb0,
0x95, 0x9d,
0x96, 0x13,
0x97, 0x16,
0x98, 0x7b,
0x99, 0x91,
0x9a, 0x1e,
0x9b, 0x08,
0x9c, 0x20,//0x20
0x9e, 0x81,
0xa6, 0x04,
0x7e, 0x0c,
0x7f, 0x16,
0x80, 0x2a,
0x81, 0x4e,
0x82, 0x61,
0x83, 0x6f,
0x84, 0x7b,
0x85, 0x86,
0x86, 0x8e,
0x87, 0x97,
0x88, 0xa4,
0x89, 0xaf,
0x8a, 0xc5,
0x8b, 0xd7,
0x8c, 0xe8,
0x8d, 0x20,
0x0c, 0x00,//0x80,
0x6b, 0x90,
//0xac, 0x20,//==add
//0x8e, 0x10,
0xa7,0x70,
0xa8,0x70,
//0x0e,0x35,

//¾µÍ·Ð£Õý

0x47, 0x90,
0x48, 0x14,
0x4a, 0x00,
0x49, 0x07,
0x4b, 0x07,
0x4c, 0x0a,
0x46, 0x05,
	END_FLAG, END_FLAG
};

#endif /* __OV772X_H__ */

